'use strict';window.nettools=window.nettools||{};nettools.jscore=nettools.jscore||{i18n:{locale:'en-US'},month2str:function(m,format){var d=new Date();d.setDate(15);d.setMonth(Number(m)-1);var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{month:format||'long'});return fmt.format(d)},date2str:function(dt,hours){if(hours)
var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{dateStyle:'short',timeStyle:'short'});else var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{dateStyle:'short'});return fmt.format(dt)},date2fullstr:function(dt,format,hours){if((format||'long')=='long'){if(hours)
var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{dateStyle:'full',timeStyle:'short'});else var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{dateStyle:'full'})}else{if(hours)
var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{weekday:'short',year:'numeric',month:'short',day:'2-digit',hour:'2-digit',minute:'2-digit'});else var fmt=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{weekday:'short',year:'numeric',month:'short',day:'2-digit'})}
return fmt.format(dt)},date2ymd:function(dt){return dt.getFullYear().toString()+nettools.jscore.leadingZero(dt.getMonth()+1)+nettools.jscore.leadingZero(dt.getDate())},ymd2shortStr:function(dt){var dt=new Date(Number(dt.substr(0,4)),Number(dt.substr(4,2))-1,Number(dt.substr(6,2)));return nettools.jscore.date2str(dt)},ymd2shortStr2digit:function(dt){var dt=new Date(Number(dt.substr(0,4)),Number(dt.substr(4,2))-1,Number(dt.substr(6,2)));var f=new Intl.DateTimeFormat(nettools.jscore.i18n.locale,{year:'2-digit',month:'2-digit',day:'2-digit'});return f.format(dt)},tel2url:function(selector,node){var node=node||document;if(!node.querySelectorAll)
return;var tags=node.querySelectorAll(selector);var tagsl=tags.length;for(var i=0;i<tagsl;i++){var a=tags[i];a.href="tel:"+a.innerHTML.replace(/[^+0-9]+/g,'');a.innerHTML="&phone;"+a.innerHTML}},setCookie:function(name,value){var argv=arguments;var argc=arguments.length;var expires=(argc>2)?argv[2]:null;var path=(argc>3)?argv[3]:null;var domain=(argc>4)?argv[4]:null;var secure=(argc>5)?Boolean(argv[5]):!1;document.cookie=name+"="+encodeURIComponent(value)+((expires===null)?"":("; expires="+expires.toGMTString()))+((path===null)?"":("; path="+path))+((domain===null)?"":("; domain="+domain))+((secure===!0)?"; secure":"")},getCookie:function(check_name){var a_all_cookies=document.cookie.split(';');var a_temp_cookie=null;var cookie_name='';var cookie_value=null;var b_cookie_found=!1;for(var i=0;i<a_all_cookies.length;i++){a_temp_cookie=a_all_cookies[i].split('=');cookie_name=a_temp_cookie[0].replace(/^\s+|\s+$/g,'');if(cookie_name===check_name){b_cookie_found=!0;if(a_temp_cookie.length>1){a_temp_cookie.shift();cookie_value=decodeURIComponent(a_temp_cookie.join('=').replace(/^\s+|\s+$/g,''))}
return cookie_value}
a_temp_cookie=null;cookie_name=''}
if(!b_cookie_found)
return null},deleteCookie:function(name,path,domain){if(nettools.jscore.getCookie(name))
document.cookie=name+"="+((path)?";path="+path:"")+((domain)?";domain="+domain:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"},firstUpperCase:function(s){s=String(s);if(s!='')
return s.substr(0,1).toUpperCase()+s.substr(1);else return''},removeDiacritics:function(str){var defaultDiacriticsRemovalMap=[{'base':'A','letters':/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{'base':'AA','letters':/[\uA732]/g},{'base':'AE','letters':/[\u00C6\u01FC\u01E2]/g},{'base':'AO','letters':/[\uA734]/g},{'base':'AU','letters':/[\uA736]/g},{'base':'AV','letters':/[\uA738\uA73A]/g},{'base':'AY','letters':/[\uA73C]/g},{'base':'B','letters':/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{'base':'C','letters':/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{'base':'D','letters':/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{'base':'DZ','letters':/[\u01F1\u01C4]/g},{'base':'Dz','letters':/[\u01F2\u01C5]/g},{'base':'E','letters':/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{'base':'F','letters':/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{'base':'G','letters':/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{'base':'H','letters':/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{'base':'I','letters':/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{'base':'J','letters':/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{'base':'K','letters':/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{'base':'L','letters':/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{'base':'LJ','letters':/[\u01C7]/g},{'base':'Lj','letters':/[\u01C8]/g},{'base':'M','letters':/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{'base':'N','letters':/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{'base':'NJ','letters':/[\u01CA]/g},{'base':'Nj','letters':/[\u01CB]/g},{'base':'O','letters':/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{'base':'OI','letters':/[\u01A2]/g},{'base':'OO','letters':/[\uA74E]/g},{'base':'OU','letters':/[\u0222]/g},{'base':'P','letters':/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{'base':'Q','letters':/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{'base':'R','letters':/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{'base':'S','letters':/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{'base':'T','letters':/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{'base':'TZ','letters':/[\uA728]/g},{'base':'U','letters':/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{'base':'V','letters':/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{'base':'VY','letters':/[\uA760]/g},{'base':'W','letters':/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{'base':'X','letters':/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{'base':'Y','letters':/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{'base':'Z','letters':/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{'base':'a','letters':/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{'base':'aa','letters':/[\uA733]/g},{'base':'ae','letters':/[\u00E6\u01FD\u01E3]/g},{'base':'ao','letters':/[\uA735]/g},{'base':'au','letters':/[\uA737]/g},{'base':'av','letters':/[\uA739\uA73B]/g},{'base':'ay','letters':/[\uA73D]/g},{'base':'b','letters':/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{'base':'c','letters':/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{'base':'d','letters':/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{'base':'dz','letters':/[\u01F3\u01C6]/g},{'base':'e','letters':/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{'base':'f','letters':/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{'base':'g','letters':/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{'base':'h','letters':/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{'base':'hv','letters':/[\u0195]/g},{'base':'i','letters':/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{'base':'j','letters':/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{'base':'k','letters':/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{'base':'l','letters':/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{'base':'lj','letters':/[\u01C9]/g},{'base':'m','letters':/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{'base':'n','letters':/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{'base':'nj','letters':/[\u01CC]/g},{'base':'o','letters':/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{'base':'oi','letters':/[\u01A3]/g},{'base':'ou','letters':/[\u0223]/g},{'base':'oo','letters':/[\uA74F]/g},{'base':'p','letters':/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{'base':'q','letters':/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{'base':'r','letters':/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{'base':'s','letters':/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{'base':'t','letters':/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{'base':'tz','letters':/[\uA729]/g},{'base':'u','letters':/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{'base':'v','letters':/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{'base':'vy','letters':/[\uA761]/g},{'base':'w','letters':/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{'base':'x','letters':/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{'base':'y','letters':/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{'base':'z','letters':/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];for(var i=0;i<defaultDiacriticsRemovalMap.length;i++){str=str.replace(defaultDiacriticsRemovalMap[i].letters,defaultDiacriticsRemovalMap[i].base)}
return str},escape:function(str){var str=String(str);return encodeURIComponent(str)},unescape:function(str){var str=String(str);return decodeURIComponent(str)},arrayFilter:function(arr,removeNullValues,removeEmptyValues){if(removeNullValues==null)
removeNullValues=!0;if(removeEmptyValues==null)
removeEmptyValues=!0;if(!removeNullValues&&!removeEmptyValues)
return arr;if(Array.prototype.filter)
return arr.filter(function(x){if(removeNullValues&&(x==null))
return!1;if(removeEmptyValues&&(x===''))
return!1;return!0});else{var ret=[];var arrl=arr.length;for(var i=0;i<arrl;i++){if(removeNullValues&&(arr[i]==null))
continue;if(removeEmptyValues&&(arr[i]===''))
continue;ret.push(arr[i])}
return ret}},leadingZero:function(n){if(Number(n)<10)
return"0"+n;else return String(n)},trimLeadingZero:function(n){var n=String(n);if(n.substr(0,1)==="0")
return parseInt(n.substr(1));else return parseInt(n)},date2Midnight:function(dt){dt.setHours(0,0,0,0);return dt},random:function(min,max){return Math.floor(min+(1+max-min)*Math.random())},appendToUrl:function(url,append){if(url.indexOf('?')===-1)
return url+"?"+append;else return url+"&"+append},htmlentities:function(s){var textArea=document.createElement('textarea');textArea.innerText=s;return textArea.innerHTML},decodeHtmlentities:function(s){var textArea=document.createElement('textarea');textArea.innerHTML=s;return textArea.value},count:function(sub,s){if(!sub||!s)
return 0;var p=s.indexOf(sub);var n=0;while(p!==-1){n++;p=s.indexOf(sub,p+1)}
return n},extractFileName:function(fname){var ereg=new RegExp('[^/]*\.[a-z0-9]+$','i');var regs=ereg.exec(fname);if(regs&&regs.length)
return(regs[0]);else return""},trim:function(str){str=String(str);if(typeof str.trim==='function')
return str.trim();else return netools.jscore.ltrim(nettools.jscore.rtrim(str))},ltrim:function(str){str=String(str);var chars="\\s";return str.replace(new RegExp("^["+chars+"]+","g"),"")},rtrim:function(str){str=String(str);var chars="\\s";return str.replace(new RegExp("["+chars+"]+$","g"),"")},randomNumber:function(digits){var digits=digits||16;return Math.round(Math.random()*Math.pow(10,digits))},selfUrl:function(){return{path:document.location.protocol+'//'+document.location.host+document.location.pathname,queryString:document.location.search,url:document.location.href}},uniqueId:function(len){var charSet='abcdef0123456789';var id='';for(var i=1;i<=len;i++){var randPos=Math.floor(Math.random()*16);id+=charSet[randPos]}
return id},mergeObjects:function(dest,source){var result={};if(dest)
for(var p in dest)
result[p]=dest[p];if(source)
for(var p in source)
result[p]=source[p];return result},getTarget:function(e){var e=e||window.event;var target=e.target||e.srcElement;return target},getOption:function(sel){if(sel.selectedIndex>=0)
return{'text':sel.options[sel.selectedIndex].text,'id':sel.options[sel.selectedIndex].value,'index':sel.selectedIndex,'self':sel.options[sel.selectedIndex]};else return!1},getCheckedRadioButton:function(f,name){var fields=f.elements[name];var il=fields.length;for(var i=0;i<il;i++)
if(fields[i].checked)
return fields[i];return null},formFieldsToObject:function(elements){var res={};var elementsl=elements.length;for(var i=0;i<elementsl;i++){var e=elements[i];if(!e.name)
continue;if(((e.type==='radio')||(e.type==='checkbox'))&&!e.checked)
continue;if((e.type==='submit')||(e.type==='button')||(e.type==='image')||(e.type==='cancel'))
continue;res[e.name]=e.value}
return res},registerEvent:function(obj,ev,cb){if(obj.addEventListener)
obj.addEventListener(ev,cb,!1);else if(obj.attachEvent)
obj.attachEvent('on'+ev,cb);},addEvent:function(obj,eventname,cb){if(typeof Function.prototype.bind!=='function'){alert('Browser not compliant with ECMASCRIPT 5 !');return}
if(typeof obj[eventname]==='function'){var old=obj[eventname];obj[eventname]=function(e){if(cb.bind(obj)(e)===!0)
return old.bind(obj)(e);else return!1}}else obj[eventname]=cb},registerOnLoadCallback:function(cb){nettools.jscore.registerEvent(window,'load',cb)},loadScript:function(src,cb){var head=document.getElementsByTagName('head');var script=document.createElement('script');script.src=src;script.type='text/javascript';script.onreadystatechange=function(e){if(script.readyState==='loaded'||script.readyState==='complete'){if(cb)
cb(e);}};script.onload=function(e){if(cb)
cb(e);}
head[0].appendChild(script)},stopPropagation:function(e){if(!e)var e=window.event;e.cancelBubble=!0;if(e.stopPropagation)e.stopPropagation();},showHide:function(objname,visible,display){if(typeof objname==="string")
var obj=document.getElementById(objname);else var obj=objname;if((visible===undefined)||(visible===null)){if(obj.style.visibility==="hidden"){obj.style.visibility="visible";obj.style.display=display?display:""}else{obj.style.visibility="hidden";obj.style.display="none"}}else{if(visible){obj.style.visibility="visible";obj.style.display=display?display:""}else{obj.style.visibility="hidden";obj.style.display="none"}}},nextSibling:function(elem){if(elem.nextSibling)
if(elem.nextSibling.nodeType===3)
return nettools.jscore.nextSibling(elem.nextSibling);return elem.nextSibling},previousSibling:function(elem){if(elem.previousSibling)
if(elem.previousSibling.nodeType===3)
return nettools.jscore.previousSibling(elem.previousSibling);return elem.previousSibling},cssToJs:function(css){var rg=/([a-z-]+):([^;]+);/g;var dcl={};var items=rg.exec(css);while(items&&(items.length===3)){dcl[nettools.jscore.cssToCamelCase(items[1])]=items[2];items=rg.exec(css)}
return dcl},jsToCss:function(styles){var ret=[];for(var s in styles)
ret.push(nettools.jscore.camelCaseToCss(s)+':'+styles[s]);if(ret.length)
return ret.join(';')+';';else return''},camelCaseToCss:function(jsStyle){var rg=/([a-z])([A-Z])/g;var items=rg.exec(jsStyle);var ret=jsStyle;while(items&&(items.length===3)){ret=ret.replace(items[0],items[1]+'-'+items[2].toLowerCase());items=rg.exec(jsStyle)}
return ret},cssToCamelCase:function(css){var rg=/-([a-z])([a-z]+)/g;var items=rg.exec(css);var ret=css;while(items&&(items.length===3)){ret=ret.replace(items[0],items[1].toUpperCase()+items[2]);items=rg.exec(css)}
return ret}}
nettools.jscore.StorageManager={fetch:function(key,ressource,ns,cbnext){function _load(){nettools.jscore.loadScript(ressource,function(){var data=eval(ns);if(window.localStorage)
window.localStorage.setItem(key,JSON.stringify(data));if(cbnext)
cbnext(data);})}
var data=null;if(!window.localStorage||!(data=window.localStorage.getItem(key)))
_load();else{try
{data=JSON.parse(data)}catch(e){_load();return}
if(data){if(cbnext&&(typeof cbnext==='function'))
cbnext(data);}else _load()}}};nettools.jscore.RequestHelper={normalizeData:function(data){if(typeof data==='string')
return new URLSearchParams(data);for(var p in data)
if(data.hasOwnProperty(p)){if(typeof data[p]==='boolean')
data[p]=data[p]?'1':'0';if((data[p]===undefined)||(data[p]===null))
data[p]=''}
return new URLSearchParams(data)},URLSearchParamsToObjectLitteral:function(params){var ret={};params.forEach(function(value,key){ret[key]=value});return ret},post:function(url,data){var form=document.createElement('form');form.method='post';form.action=url;form.style.visibility="hidden";form.style.display="none";if(data){nettools.jscore.RequestHelper.normalizeData(data).forEach(function(v,k){var e=document.createElement('input');e.type="hidden";e.name=k;e.value=v;form.appendChild(e)})}
document.body.appendChild(form);form.submit()},sendXmlHTTPRequest:function(url,callback,postData){if((postData===null)||(postData===undefined))
postData={};return nettools.jscore.xmlhttp.sendRequest(url,callback,postData)},sendWithFeedback:function(onload,progressObj,form,url,data){if((data===null)||(data===undefined))
data={};nettools.jscore.xmlhttp.sendWithFeedback(onload,progressObj,form,url,data)},sendWithFeedbackPromise:function(progressObj,form,url,data){if((data===null)||(data===undefined))
data={};return nettools.jscore.xmlhttp.sendWithFeedbackPromise(progressObj,form,url,data)},filesUploadWithFeedback:function(onload,progressObj,files,url,data){var fd=new FormData();for(var i=0;i<files.length;i++)
fd.append(files[i].name,files[i].files[0]);nettools.jscore.RequestHelper.sendWithFeedback(onload,progressObj,fd,url,data)},filesUploadWithFeedbackPromise:function(progressObj,files,url,data){var fd=new FormData();for(var i=0;i<files.length;i++)
fd.append(files[i].name,files[i].files[0]);return nettools.jscore.RequestHelper.sendWithFeedbackPromise(progressObj,fd,url,data)},sendRequestFetch:function(url,postData){try
{if((postData===null)||(postData===undefined))
postData={};return nettools.jscore.xmlhttp.sendRequestFetch(url,postData)}catch(err){return Promise.reject(err)}},sendXmlHTTPRequestPromise:function(url,postData){try
{if((postData===null)||(postData===undefined))
postData={};return nettools.jscore.xmlhttp.sendRequestPromise(url,postData)}catch(err){return Promise.reject(err)}},promiseErrorHandler:function(e){if(e){if(e.message)
alert(e.message);else alert(e)}},object2FormData:function(obj,fd){if((fd===null)||(fd===undefined))
fd=new FormData();nettools.jscore.RequestHelper.normalizeData(obj).forEach(function(v,k){fd.append(k,v)});return fd}};nettools.jscore.RequestFeedback=class{constructor(onfeedback,onload,onabort){this.onload=onload;this.onfeedback=onfeedback;this.onabort=onabort}
load(){if(typeof this.onload==='function')
this.onload.call(this);}
feedback(pct){if(typeof this.onfeedback==='function')
this.onfeedback.call(this,pct);}
abort(){if(typeof this.onabort==='function')
this.onabort.call(this);}}
nettools.jscore.xmlhttp=nettools.jscore.xmlhttp||(function(){function _createXMLHTTPObject(){return new XMLHttpRequest()}
function _logExceptionToConsole(exception,title){if(!console)
return;if(typeof console.log!='function')
return;var regexp=new RegExp('<h1>([^<]*)</h1>[\\s]*<h2>([^<]*)</h2>[\\s]*<code>([^<]*)</code>','i');var regs=regexp.exec(exception);if(regs){var h1=regs[1].trim();var h2=regs[2].trim();var code=regs[3].trim();console.log(h1," - Exception '"+h2+"'"," - "+code);if(typeof console.table!='function')
return;var s=exception.replace(/[\r\n]/g,'')
var regexp=new RegExp('<tr>(.*?)</tr>','gi');var regs=null;var regstd=null;var table=[];while((regs=regexp.exec(s))!==null){var regexptd=new RegExp('<td>(.*?)</td>','gi');var regstd=null;var cols=[];while((regstd=regexptd.exec(regs[1]))!==null)
cols.push(regstd[1]);if(cols.length){var o={fichier:cols[0].trim(),ligne:cols[1].trim(),fonction:cols[2].trim()};table.push(o)}}
if(table.length)
console.table(table);}else console.log(nettools.jscore.xmlhttp.i18n.CANNOT_LOG_EXCEPTION_DETAILS)}
function _linkToException(exception,title){var a=document.createElement('a');a.innerHTML='['+new Date().toTimeString()+'] '+title;a.style.outline='none';a.style.backgroundColor='antiquewhite';a.style.fontFamily='arial';a.style.color='black';a.style.fontSize='12px';a.style.fontWeight='bold';a.style.padding='5px';a.style.marginBottom='10px';a.style.display='block';a.style.borderBottom='2px solid firebrick';a.href="javascript:void(0)";a.onclick=function(){var exw=window.open('',"ExceptionWindow"+(Math.floor(Math.random()*10000000)));if(exw){exw.document.write('<!DOCTYPE html><html><body>'+exception+'</body></html>');exw.document.close()}else alert(nettools.jscore.xmlhttp.i18n.CANNOT_OPEN_POPUP_WINDOW_EXCEPTION_DETAILS)};if(document.body.firstChild)
document.body.insertBefore(a,document.body.firstChild);else document.body.appendChild(a)}
function _handlePromiseException(exception,title){_logExceptionToConsole(exception,title);_linkToException(exception,title)}
function _handleException(exception,title){_logExceptionToConsole(exception,title);var exw=window.open('',"ExceptionWindow"+(Math.floor(Math.random()*10000000)));if(exw){exw.document.write('<!DOCTYPE html><head><title>'+title+'</title></head><html><body>'+exception+'</body></html>');exw.document.close()}else _linkToException(exception,title)}
function _toFormDataOrString(postData){if(typeof(postData)!=='string')
if(window.FormData)
if(!(postData instanceof FormData))
return nettools.jscore.RequestHelper.object2FormData(postData);else return postData;else return nettools.jscore.RequestHelper.normalizeData(postData).toString();else return postData}
function _handleJsonResponsePromise(resolve,reject,resp){if(resp===null){reject(new Error(nettools.jscore.xmlhttp.i18n.UNREADABLE_ASYNC_RESPONSE));return}
if(!resp.status){if(resp.exception)
try
{_handlePromiseException(resp.exception,resp.message?resp.message:nettools.jscore.xmlhttp.i18n.ERROR_DURING_ASYNC_REQUEST_NO_MESSAGE_AVAILABLE)}catch(e){}
reject(new Error(resp.message?resp.message:nettools.jscore.xmlhttp.i18n.NO_ERROR_MESSAGE));return}
resolve(resp)}
return{i18n:{CANNOT_LOG_EXCEPTION_DETAILS:'Can\'t display details about the exception',CANNOT_OPEN_POPUP_WINDOW_EXCEPTION_DETAILS:"Can't open a popup window to display the exception details",UNREADABLE_ASYNC_RESPONSE:'Unreadable async response',ERROR_DURING_ASYNC_REQUEST_NO_MESSAGE_AVAILABLE:'Error during async request (message unavailable)',NO_ERROR_MESSAGE:'Async request has not return any error message',FETCH_API_HTTP_ERROR:'Fetch API returned HTTP error : '},sendRequest:function(url,callback,postData){var req=_createXMLHTTPObject();if(!req)return;var method=(postData)?"POST":"GET";req.open(method,url,!0);req.setRequestHeader('User-Agent','XMLHTTP/1.0');req.setRequestHeader('X-Request-XMLHTTP','1');req.setRequestHeader('Accept','application/json');if(postData){var postData=_toFormDataOrString(postData);if(typeof(postData)=='string')
req.setRequestHeader('Content-type','application/x-www-form-urlencoded');}
req.onreadystatechange=function(){if(req.readyState!==4)return;if(req.status!==200&&req.status!==304){return}
if(typeof callback==="object")
alert('object.callback not implemented');else if(typeof callback==='function')
callback(req);}
if(req.readyState===4)return;req.send(postData)},sendRequestFetch:function(url,postData){if(!window.fetch){console.log('Browser not compliant with Fetch API')
var o={};o.then=function(cb){return o};o.catch=function(cb){cb('Browser not compliant with Fetch API');return o};return o}
if(typeof Promise==='undefined'){console.log('Browser not compliant with ECMASCRIPT 6 Promises feature !');var o={};o.then=function(cb){return o};o.catch=function(cb){cb('Browser not compliant with ECMASCRIPT 6 Promises feature !');return o};return o}
var postData=_toFormDataOrString(postData);var headers=new Headers((typeof(postData)=='string')?{'Content-Type':'application/x-www-form-urlencoded'}:{});headers.append('User-Agent','XMLHTTP/1.0');headers.append('X-Request-XMLHTTP','1');headers.append('Accept','application/json');return new Promise(function(resolve,reject){fetch(url,{method:'POST',body:postData,headers:headers}).then(function(response){if(response.ok){response.json().then(function(obj){_handleJsonResponsePromise(resolve,reject,obj)}).catch(function(err){reject(err)})}else reject(new Error(nettools.jscore.xmlhttp.i18n.FETCH_API_HTTP_ERROR+response.status+' '+response.statusText))})})},sendRequestPromise:function(url,postData){if(typeof Promise==='undefined'){console.log('Browser not compliant with ECMASCRIPT 6 Promises feature !');var o={};o.then=function(cb){return o};o.catch=function(cb){cb('Browser not compliant with ECMASCRIPT 6 Promises feature !');return o};return o}
return new Promise(function(resolve,reject){var cb=function(req){var resp=nettools.jscore.xmlhttp.parseResponse(req);_handleJsonResponsePromise(resolve,reject,resp)};nettools.jscore.xmlhttp.sendRequest(url,cb,postData)})},parseResponse:function(resp){try
{return JSON.parse(resp.responseText)}catch(e){return null}},parseJsonResponse:function(resp){var r=null;try
{r=JSON.parse(resp.responseText)}catch(e){alert(nettools.jscore.xmlhttp.i18n.UNREADABLE_ASYNC_RESPONSE+" : "+e);return{status:!1}}
if(!r.status&&r.message)
alert(r.message);if(!r.status&&r.exception)
_handleException(r.exception,r.message?r.message:nettools.jscore.xmlhttp.i18n.ERROR_DURING_ASYNC_REQUEST_NO_MESSAGE_AVAILABLE);return r},sendWithFeedback:function(onload,progressObj,form,url,data){if(!window.XMLHttpRequest||!window.FormData){alert('Browser issue ! (FF>=4, IE>=10, CHROME>=7, SAFARI>=5)');return}
if(!(progressObj instanceof nettools.jscore.RequestFeedback))
throw new Error('`progressObj` is not a nettools.jscore.RequestFeedback object');var xhr=new XMLHttpRequest();xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){var percentage=Math.round((e.loaded*100)/e.total);progressObj.feedback(percentage)}},!1);if(onload&&(typeof onload==='function'))
xhr.addEventListener("load",onload.bind(null,xhr),!1);xhr.upload.addEventListener("load",progressObj.load.bind(progressObj),!1);xhr.upload.addEventListener("error",progressObj.abort.bind(progressObj),!1);xhr.upload.addEventListener("abort",progressObj.abort.bind(progressObj),!1);xhr.open("POST",url);var fd=form?((form instanceof FormData)?form:new FormData(form)):new FormData();if(data){if(typeof(data)==='string')
data=nettools.jscore.RequestHelper.URLSearchParamsToObjectLitteral(new URLSearchParams(data));}else data={};var fd=nettools.jscore.RequestHelper.object2FormData(data,fd);xhr.send(fd)},sendWithFeedbackPromise:function(progressObj,form,url,data){return new Promise(function(resolve,reject){var cb=function(req){var resp=nettools.jscore.xmlhttp.parseResponse(req);_handleJsonResponsePromise(resolve,reject,resp)};nettools.jscore.xmlhttp.sendWithFeedback(cb,progressObj,form,url,data)})}}})();nettools.jscore.SecureRequestHelper=(function(){var _csrf_cookiename='_CSRF_';var _csrf_submittedvaluename='_FORM_CSRF_';function _getCSRFCookie(){var v=nettools.jscore.getCookie(_csrf_cookiename);if(!v)
throw new Error(nettools.jscore.SecureRequestHelper.i18n.CSRF_VALUE_NOT_SET);return v}
function _autoinit(){function __onclick(){try
{nettools.jscore.SecureRequestHelper.post(this.getAttribute('data-csrfhref'),this.getAttribute('data-csrfquerystring'));return!1}catch(err){alert(err)}}
function __handle(href){var old=href.href;href.href="javascript:void(0)";href.removeAttribute('data-csrf');var urlparser=old.split('?');href.setAttribute('data-csrfhref',urlparser[0]);if(urlparser[1])
href.setAttribute('data-csrfquerystring',urlparser[1]);href.onclick=__onclick}
if(document.querySelectorAll){var hrefs=document.querySelectorAll("a[data-csrf='1']");var hrefsl=hrefs.length;for(var h=0;h<hrefsl;h++)
__handle(hrefs[h]);}else{var hrefs=document.getElementsByTagName('a');var hrefsl=hrefs.length;for(var h=0;h<hrefsl;h++)
if(hrefs[h].getAttribute('data-csrf')==='1')
__handle(hrefs[h]);}}
function _addCSRFValue(postData){if(window.FormData&&(postData instanceof FormData)){postData.set(_csrf_submittedvaluename,_getCSRFCookie());return postData}else{var postData=nettools.jscore.RequestHelper.normalizeData(postData);postData.append(_csrf_submittedvaluename,_getCSRFCookie());return nettools.jscore.RequestHelper.URLSearchParamsToObjectLitteral(postData)}}
return{i18n:{CSRF_VALUE_NOT_SET:'CSRF cookie not set ; request has been stopped.'},replaceLinksWithPOSTRequests:function(){_autoinit()},autoReplaceLinksWithPOSTRequests:function(){nettools.jscore.registerOnLoadCallback(_autoinit)},setCSRFCookieName:function(name){_csrf_cookiename=name},getCSRFCookieName:function(){return _csrf_cookiename},setCSRFSubmittedValueName:function(name){_csrf_submittedvaluename=name},getCSRFSubmittedValueName:function(){return _csrf_submittedvaluename},addCSRFSubmittedValueHiddenInput:function(form){var input=document.createElement('input');input.type='hidden';input.name=_csrf_submittedvaluename;input.value=_getCSRFCookie();form.appendChild(input)},addCSRFSubmittedValue:function(postData){if(window.FormData&&(postData instanceof FormData)){postData.set(_csrf_submittedvaluename,_getCSRFCookie());return postData}else{if(typeof postData=='object'){postData[_csrf_submittedvaluename]=_getCSRFCookie();return postData}else return nettools.jscore.appendToUrl(postData,_csrf_submittedvaluename+'='+_getCSRFCookie())}},addCSRFValue:function(url){return nettools.jscore.appendToUrl(url,_csrf_submittedvaluename+'='+_getCSRFCookie())},post:function(url,postData){var data=_addCSRFValue(postData);nettools.jscore.RequestHelper.post(url,data)},sendXmlHTTPRequest:function(url,callback,postData){return nettools.jscore.xmlhttp.sendRequest(url,callback,_addCSRFValue(postData))},sendXmlHTTPRequestPromise:function(url,postData){try
{return nettools.jscore.xmlhttp.sendRequestPromise(url,_addCSRFValue(postData))}catch(err){return Promise.reject(err)}},sendRequestFetch:function(url,postData){try
{return nettools.jscore.xmlhttp.sendRequestFetch(url,_addCSRFValue(postData))}catch(err){return Promise.reject(err)}},sendWithFeedback:function(onload,progressObj,form,url,data){return nettools.jscore.xmlhttp.sendWithFeedback(onload,progressObj,form,url,_addCSRFValue(data))},sendWithFeedbackPromise:function(progressObj,form,url,data){return nettools.jscore.xmlhttp.sendWithFeedbackPromise(progressObj,form,url,_addCSRFValue(data))},filesUploadWithFeedback:function(onload,progressObj,files,url,data){return nettools.jscore.xmlhttp.filesUploadWithFeedback(onload,progressObj,files,url,_addCSRFValue(data))},filesUploadWithFeedbackPromise:function(progressObj,form,url,data){return nettools.jscore.xmlhttp.filesUploadWithFeedbackPromise(progressObj,files,url,_addCSRFValue(data))}}})();nettools.jscore.validator={};nettools.jscore.validator.Patterns={DATEYY:/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/[0-9]{2}$/,DATEYYYY:/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/[0-9]{4}$/,DATEYMD:/^[0-9]{4}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/,DATEJS:/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,CP:/^[0-9]{5}$/,TEL:/^0[0-9]{9}$/,MOBILE:/^0[67][0-9]{8}$/,MAIL:/^[a-z0-9]+([_|\.|-]{1}[a-z0-9]+)*@[a-z0-9]+([_|\.|-]{1}[a-z0-9]+)*[\.]{1}[a-z]{2,6}$/,INT:/^[0-9]+$/,BOOL:/^[01]$/,FLOAT:/^[0-9]*[0-9]\.[0-9]+$/,FLOAT_INT:/^[0-9]*[0-9](\.[0-9]+)?$/};nettools.jscore.validator.RealTimeValidator=function(rtcb){var _rtcb=rtcb;function _inputonchange(e){if(_rtcb){var valid=_rtcb(this);switch(valid){case(null):case(undefined):break;case(!1):this.setAttribute('data-valid',0);break;default:this.setAttribute('data-valid',1);break}}
return!0}
this.registerOnChangeEvent=function(input){input.onchange=_inputonchange};this.registerCustomOnChangeEvents=function(inputs,customcb){var __handler=function(e){if(customcb&&(typeof customcb==='function'))
customcb.call(this,e);_inputonchange.call(this,e)};var inputsl=inputs.length;for(var i=0;i<inputsl;i++)
inputs[i].onchange=__handler};this.update=function(f){var elementsl=f.elements.length;for(var i=0;i<elementsl;i++)
_inputonchange.call(f.elements[i]);}};nettools.jscore.validator.RealTimeValidator.prototype.isValid=function(elements){var elementsl=elements.length;for(var i=0;i<elementsl;i++){if(Number(elements[i].getAttribute('data-valid'))==='0')
return!1}
return!0};nettools.jscore.validator.RealTimeValidator.prototype.registerCustomOnChangeEvent=function(input,customcb){this.registerCustomOnChangeEvents([input],customcb)};nettools.jscore.validator.RealTimeValidator.prototype.registerOnChangeEvents=function(inputs){var inputsl=inputs.length;for(var i=0;i<inputsl;i++)
this.registerOnChangeEvent(inputs[i]);};nettools.jscore.validator.FormValidator=function(params){var _required=null;var _regexps=null;var _onsubmit=null;var _onsubmitpromise=null;var _notifier=null;var _root=null;_required=params.required;_regexps=params.regexps;_onsubmit=params.onsubmit;_onsubmitpromise=params.onsubmitpromise;_notifier=params.notifier||function(st){if(st.message)
alert(st.message);if(st.field&&(st.field.type!='hidden')&&st.field.focus)
st.field.focus();};_root=params.root?params.root:'';this.setRoot=function(r){_root=r};this.getRoot=function(){return _root};this.setRequired=function(fields){_required=fields};this.getRequired=function(){return _required};this.setRegExps=function(regexps){_regexps=regexps};this.getRegExps=function(){return _regexps};this.setOnSubmit=function(cb){_onsubmit=cb};this.getOnSubmit=function(){return _onsubmit};this.setOnSubmitPromise=function(cb){_onsubmitpromise=cb};this.getOnSubmitPromise=function(){return _onsubmitpromise};this.setNotifier=function(n){_notifier=n};this.getNotifier=function(){return _notifier}};nettools.jscore.validator.FormValidator.prototype.getFieldLabel=function(field,name){if((field instanceof NodeList)&&field[0])
var field=field[0];return(field.title!='')?field.title:name};nettools.jscore.validator.FormValidator.prototype.isValid=function(elements){function __getValue(field){if((field.type==='text')||(field.type==='email')||(field.type==='date')||(field.type==='number')||(field.type==='textarea')||(field.type==='hidden')||(field.type==='file'))
return field.value;else if(field.type==='select-one')
return field.options[field.selectedIndex]?field.options[field.selectedIndex].value:'';else if((field instanceof NodeList)&&field[0]&&(field[0].type==='radio')){var fieldl=field.length;for(var i=0;i<fieldl;i++)
if(field[i].checked)
return field[i].value;return''}else return field.value}
function __notify(that,st){if(!st.status){var notifier=that.getNotifier();if(notifier&&(typeof notifier==='function'))
notifier(st);}
return st}
var _required=this.getRequired();var _root=this.getRoot();var _regexps=this.getRegExps();if(_required&&_required.length)
for(var i=0;i<_required.length;i++){var f=_required[i];if(f&&(__getValue(elements[_root+f])==="")){var fi=elements[_root+f];return __notify(this,nettools.jscore.validator.FormValidator.returnStatus(!1,nettools.jscore.validator.FormValidator.i18n.REQUIRED_FIELD+" : '"+this.getFieldLabel(fi,f)+"'",fi))}}
if(_regexps)
for(var r in _regexps){var fi=elements[_root+r];if(__getValue(fi)!=="")
if(!_regexps[r].test(__getValue(fi)))
return __notify(this,nettools.jscore.validator.FormValidator.returnStatus(!1,nettools.jscore.validator.FormValidator.i18n.WRONG_FORMAT+" : '"+this.getFieldLabel(fi,r)+"'",fi));}
if(this.getOnSubmitPromise()){var p=this.getOnSubmitPromise()(elements);var that=this;return p.catch(function(st){if(!(st instanceof Error))
__notify(that,st);return Promise.reject(st)})}
if(this.getOnSubmit()){var st=this.getOnSubmit()(elements);if(!st.status)
return __notify(this,st);}
return nettools.jscore.validator.FormValidator.returnStatus(!0)};nettools.jscore.validator.FormValidator.returnStatus=function(st,msg,f){return{status:st,message:msg,field:f}};nettools.jscore.validator.FormValidator.i18n={REQUIRED_FIELD:'Missing data',WRONG_FORMAT:'Wrong format'};var CryptoJS=CryptoJS||function(e,m){var p={},j=p.lib={},l=function(){},f=j.Base={extend:function(a){l.prototype=this;var c=new l;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},n=j.WordArray=f.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=m?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var c=this.words,q=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var b=0;b<a;b++)c[d+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((d+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[d+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=e.ceil(c/4)},clone:function(){var a=f.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*e.random()|0);return new n.init(c,a)}}),b=p.enc={},h=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;d<a;d++){var f=c[d>>>2]>>>24-8*(d%4)&255;b.push((f>>>4).toString(16));b.push((f&15).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d+=2)b[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new n.init(b,c/2)}},g=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;d<a;d++)b.push(String.fromCharCode(c[d>>>2]>>>24-8*(d%4)&255));return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d++)b[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new n.init(b,c)}},r=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(g.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return g.parse(unescape(encodeURIComponent(a)))}},k=j.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new n.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=r.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,d=c.sigBytes,f=this.blockSize,h=d/(4*f),h=a?e.ceil(h):e.max((h|0)-this._minBufferSize,0);a=h*f;d=e.min(4*a,d);if(a){for(var g=0;g<a;g+=f)this._doProcessBlock(b,g);g=b.splice(0,a);c.sigBytes-=d}return new n.init(g,d)},clone:function(){var a=f.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});j.Hasher=k.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){k.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,b){return(new a.init(b)).finalize(c)}},_createHmacHelper:function(a){return function(b,f){return(new s.HMAC.init(a,f)).finalize(b)}}});var s=p.algo={};return p}(Math);(function(){var e=CryptoJS,m=e.lib,p=m.WordArray,j=m.Hasher,l=[],m=e.algo.SHA1=j.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,n){for(var b=this._hash.words,h=b[0],g=b[1],e=b[2],k=b[3],j=b[4],a=0;80>a;a++){if(16>a)l[a]=f[n+a]|0;else{var c=l[a-3]^l[a-8]^l[a-14]^l[a-16];l[a]=c<<1|c>>>31}c=(h<<5|h>>>27)+j+l[a];c=20>a?c+((g&e|~g&k)+1518500249):40>a?c+((g^e^k)+1859775393):60>a?c+((g&e|g&k|e&k)-1894007588):c+((g^e^k)-899497514);j=k;k=e;e=g<<30|g>>>2;g=h;h=c}b[0]=b[0]+h|0;b[1]=b[1]+g|0;b[2]=b[2]+e|0;b[3]=b[3]+k|0;b[4]=b[4]+j|0},_doFinalize:function(){var f=this._data,e=f.words,b=8*this._nDataBytes,h=8*f.sigBytes;e[h>>>5]|=128<<24-h%32;e[(h+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(h+64>>>9<<4)+15]=b;f.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=j.clone.call(this);e._hash=this._hash.clone();return e}});e.SHA1=j._createHelper(m);e.HmacSHA1=j._createHmacHelper(m)})();(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;"string"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=this._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();(function(h){for(var s=CryptoJS,f=s.lib,t=f.WordArray,g=f.Hasher,f=s.algo,j=[],q=[],v=function(a){return 4294967296*(a-(a|0))|0},u=2,k=0;64>k;){var l;a:{l=u;for(var x=h.sqrt(l),w=2;w<=x;w++)if(!(l%w)){l=!1;break a}l=!0}l&&(8>k&&(j[k]=v(h.pow(u,0.5))),q[k]=v(h.pow(u,1/3)),k++);u++}var a=[],f=f.SHA256=g.extend({_doReset:function(){this._hash=new t.init(j.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],m=b[2],h=b[3],p=b[4],j=b[5],k=b[6],l=b[7],n=0;64>n;n++){if(16>n)a[n]=c[d+n]|0;else{var r=a[n-15],g=a[n-2];a[n]=((r<<25|r>>>7)^(r<<14|r>>>18)^r>>>3)+a[n-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+a[n-16]}r=l+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&j^~p&k)+q[n]+a[n];g=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&m^f&m);l=k;k=j;j=p;p=h+r|0;h=m;m=f;f=e;e=r+g|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+m|0;b[3]=b[3]+h|0;b[4]=b[4]+p|0;b[5]=b[5]+j|0;b[6]=b[6]+k|0;b[7]=b[7]+l|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;d[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=g.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=g._createHelper(f);s.HmacSHA256=g._createHmacHelper(f)})(Math);nettools.jscore.Promises={any:function(promises){if(typeof(Promise.any)=='function')
return Promise.any(promises);else{var errors=[];return Promise.race(promises.map(function(p){return p.catch(function(e){errors.push(e);if(errors.length>=promises.length)
throw errors;return Promise.race()})}))}},allSettled:function(promises){if(typeof(Promise.allSettled)=='function')
return Promise.allSettled(promises);else{return Promise.all(promises.map(function(p){return p.then(function(data){return Promise.resolve({status:'fulfilled',value:data})}).catch(function(e){return Promise.resolve({status:'rejected',reason:e})})}))}}}
nettools.jscore.SubmitHandlers={};nettools.jscore.SubmitHandlers.Handler=class{constructor(options){this.options=options}
submit(form,elements){throw new Error('`submit` not implemented in `Handler` base class')}
customEvent(eventName,callback,after=!0){if(typeof callback!=='function')
return this;if(this.options[eventName]==null)
this.options[eventName]=callback;else{var old=this.options[eventName];this.options[eventName]=function(){if(!after)
callback.apply(null,arguments);old.apply(null,arguments);if(after)
callback.apply(null,arguments);}}
return this}
createBody(elements,data){var postFormData=nettools.jscore.RequestHelper.object2FormData(nettools.jscore.formFieldsToObject(elements));if(data){var u=new URLSearchParams(nettools.jscore.RequestHelper.normalizeData(data));u.forEach(function(v,k){postFormData.append(k,v)})}
return postFormData}
static formSubmit(handler,form,elements){if(typeof handler==='function')
handler=new nettools.jscore.SubmitHandlers.Callback({target:handler});handler.submit(form,elements)}}
nettools.jscore.SubmitHandlers.Callback=class extends nettools.jscore.SubmitHandlers.Handler{submit(form,elements){if(typeof this.options.target==='function')
this.options.target(form,elements);}
customEvent(callback,after=!0){return super.customEvent('target',callback,after)}
static toSubmitHandler(cb){if(!cb)
return nettools.jscore.SubmitHandlers.Callback.dummy();if(typeof cb==='function')
return new nettools.jscore.SubmitHandlers.Callback({target:cb});else if((typeof cb==='object')&&(cb instanceof nettools.jscore.SubmitHandlers.Handler))
return cb;else throw new Error('Invalid submit handler')}
static dummy(){return new nettools.jscore.SubmitHandlers.Callback({target:function(){}})}}
nettools.jscore.SubmitHandlers.XmlHttp=class extends nettools.jscore.SubmitHandlers.Handler{submit(form,elements){var handler=null;if(this.options.csrf)
handler=nettools.jscore.SecureRequestHelper.sendXmlHTTPRequest;else handler=nettools.jscore.RequestHelper.sendXmlHTTPRequest;var that=this;handler(this.options.target,function(resp){var r=nettools.jscore.xmlhttp.parseJsonResponse(resp);if(typeof that.options.onload==='function')
that.options.onload(form,elements,{jsonReturn:r})},this.createBody(elements,this.options.data))}
customEvent(callback,after=!0){return super.customEvent('onload',callback,after)}}
nettools.jscore.SubmitHandlers.XmlHttpWithFeedback=class extends nettools.jscore.SubmitHandlers.Handler{submit(form,elements){var that=this;if(this.options.csrf)
var fun=nettools.jscore.SecureRequestHelper.sendWithFeedback;else var fun=nettools.jscore.RequestHelper.sendWithFeedback;fun(function(resp){var r=nettools.jscore.xmlhttp.parseJsonResponse(resp);if(typeof that.options.onload==='function')
that.options.onload(form,elements,{jsonReturn:r})},this.options.feedback,form,this.options.target,this.options.data)}
customEvent(callback,after=!0){return super.customEvent('onload',callback,after)}}
nettools.jscore.SubmitHandlers.Post=class extends nettools.jscore.SubmitHandlers.Handler{static createFormInContext(elements,context){var form=context.createElement('form');form.style.visibility='hidden';form.style.display="none";var elementsl=elements.length;for(var i=0;i<elementsl;i++){var e=elements[i];switch(e.type){case "checkbox":case "radio":if(e.checked)
var value=e.value;else continue;break;case "button":case "submit":continue;default:var value=e.value;break}
var input=context.createElement('input');input.type="hidden";input.name=e.name;input.value=value;form.appendChild(input)}
context.body.appendChild(form);return form}
submit(form,elements){if(typeof this.options.onsubmit==='function')
this.options.onsubmit(form,elements);var context=this.options.context||document;if(context!=document)
form=this.constructor.createFormInContext(elements,context);if(this.options.csrf)
nettools.jscore.SecureRequestHelper.addCSRFSubmittedValueHiddenInput(form);form.method='post';form.action=this.options.target;var elementsl=elements.length;for(var i=0;i<elementsl;i++)
if(elements[i].type==='file'){form.enctype='multipart/form-data';break}
if(this.options.data){var u=nettools.jscore.RequestHelper.normalizeData(this.options.data);u.forEach(function(v,k){var field=context.createElement('input');field.type="hidden";field.name=k;field.value=v;form.appendChild(field)})}
form.submit()}
customEvent(callback,after=!0){return super.customEvent('onsubmit',callback,after)}}